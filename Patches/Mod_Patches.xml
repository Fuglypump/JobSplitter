<?xml version="1.0" encoding="utf-8"?>

<Patch>

  <!-- Combat Extended -->
  <Operation Class="PatchOperationFindMod">
    <mods>
      <li>Combat Extended</li>
    </mods>
    <match Class="PatchOperationReplace">
      <xpath>*/WorkGiverDef[defName = "ReloadTurrets"]/workType</xpath>
      <value>
        <workType>Rearming</workType>
      </value>
    </match>
  </Operation>
  
  <!-- [SYR] Universal Fermenter -->
  <Operation Class="PatchOperationFindMod">
    <mods>
      <li>[SYR] Universal Fermenter</li>
    </mods>
    <match Class="PatchOperationReplace">
      <xpath>*/WorkGiverDef[defName = "UF_WorkGiver_TakeProductOutOfUniversalFermenter" or defName = "UF_WorkGiver_FillUniversalFermenter"]/workType</xpath>
      <value>
        <workType>Brewing</workType>
      </value>
    </match>
  </Operation>

  <!-- CuproPanda's Drinks -->
  <Operation Class="PatchOperationFindMod">
    <mods>
	  <li>Cupro's Drinks - Core</li>
	  <li>CuproPanda's Drinks</li>
    </mods>
    <match Class="PatchOperationReplace">
      <xpath>*/WorkGiverDef[defName = "CPD_DoBillsDrinksTable"]/workType</xpath>
      <value>
        <workType>Brewing</workType>
      </value>
    </match>
  </Operation>


  <!-- VGP Garden Drinks UF -->
  <Operation Class="PatchOperationFindMod">
    <mods>
	  <li>VGP Garden Drinks</li>
      <li>VGP Garden Drinks UF</li>
    </mods>
    <match Class="PatchOperationReplace">
      <xpath>*/WorkGiverDef[defName = "CPD_DoBillsDrinksTable" or defName = "DoBillsBrew"]/workType</xpath>
      <value>
        <workType>Brewing</workType>
      </value>
    </match>
  </Operation>

  <!-- VGP Garden Tools -->
  <Operation Class="PatchOperationFindMod">
    <mods>
      <li>VGP Garden Tools</li>
    </mods>
    <match Class="PatchOperationReplace">
      <xpath>*/WorkGiverDef[defName = "GT_WorkGiver_FillUniversalFermenter" or defName = "GT_WorkGiver_TakeProductOutOfUniversalFermenter"]/workType</xpath>
      <value>
        <workType>Brewing</workType>
      </value>
    </match>
  </Operation>

  <!-- Dubs Rimkit -->
  <Operation Class="PatchOperationFindMod">
    <mods>
      <li>Dubs Rimkit</li>
    </mods>
    <match Class="PatchOperationReplace">
      <xpath>*/WorkGiverDef[defName = "FixBrokenDownBuildingWithKit"]/workType</xpath>
      <value>
        <workType>Repairing</workType>
      </value>
    </match>
  </Operation>
  
  <!-- Fluffy Breakdowns -->
  <Operation Class="PatchOperationFindMod">
    <mods>
      <li>Fluffy Breakdowns</li>
    </mods>
    <match Class="PatchOperationSequence">
      <operations>
        <li Class="PatchOperationReplace">
          <xpath>*/WorkGiverDef[defName = "FluffyBreakdowns_Maintenance"]/workType</xpath>
          <value>
            <workType>Repairing</workType>
          </value>
        </li>
        <li Class="PatchOperationReplace">
          <xpath>*/WorkGiverDef[defName = "FluffyBreakdowns_Maintenance"]/priorityInType</xpath>
          <value>
            <priorityInType>75</priorityInType>
          </value>
        </li>
      </operations>
    </match>
  </Operation>

  <!-- Expanded Roofing -->
  <Operation Class="PatchOperationFindMod">
    <mods>
      <li>Expanded Roofing</li>
    </mods>
    <match Class="PatchOperationReplace">
      <xpath>*/WorkGiverDef[defName = "PerformRoofMaintenance"]/workType</xpath>
      <value>
        <workType>Repairing</workType>
      </value>
    </match>
  </Operation>

  <!-- Misc. Bees'n'Honey -->
  <Operation Class="PatchOperationFindMod">
    <mods>
      <li>Misc. Bees'n'Honey</li>
    </mods>
    <match Class="PatchOperationReplace">
      <xpath>*/WorkGiverDef[defName = "GetHoney"]/workType</xpath>
      <value>
        <workType>Harvesting</workType>
      </value>
    </match>
  </Operation>

  <!-- Refactored Work Priorities -->
  <Operation Class="PatchOperationFindMod">
    <mods>
      <li>Refactored Work Priorities</li>
	  <li>Refactored Work Priorities (Continued)</li>
    </mods>
    <match Class="PatchOperationReplace">
      <xpath>*/WorkGiverDef[defName = "HarvestYieldingPlants"]/workType</xpath>
      <value>
        <workType>Harvesting</workType>
      </value>
    </match>
  </Operation>

  <!-- Omni Core Drill -->
  <Operation Class="PatchOperationFindMod">
    <mods>
      <li>Omni Core Drill</li>
	  <li>Omni Core Drill (Continued)</li>
    </mods>
    <match Class="PatchOperationReplace">
      <xpath>*/WorkGiverDef[defName = "DoBillsCoreMine"]/workType</xpath>
      <value>
        <workType>Drilling</workType>
      </value>
    </match>
  </Operation>

  <!-- Smokeleaf Industry -->
  <Operation Class="PatchOperationFindMod">
    <mods>
	  <li>Smokeleaf Industry</li>
      <li>Smokeleaf Industry Reborn</li>
    </mods>
    <match Class="PatchOperationReplace">
      <xpath>*/WorkGiverDef[defName = "DoBillsCultivationBench" or defName = "DoBillsAutoTrimmer" or defName = "DoBillsProduceMedicinals"]/workType</xpath>
      <value>
        <workType>Drugs</workType>
      </value>
    </match>
  </Operation>

  <!-- Butchering Spot -->
  <Operation Class="PatchOperationFindMod">
    <mods>
      <li>Butchering Spot</li>
    </mods>
    <match Class="PatchOperationReplace">
      <xpath>*/WorkGiverDef[defName = "DoBillsButcherFleshSpot"]/workType</xpath>
      <value>
        <workType>Butchering</workType>
      </value>
    </match>
  </Operation>
  
  <!-- Misc. Robots -->
  <Operation Class="PatchOperationFindMod">
    <mods>
      <li>Misc. Robots</li>
    </mods>
    <match Class="PatchOperationReplace">
      <xpath>*/WorkGiverDef[defName = "DoBillAIRobotRepairAtStation"]/workType</xpath>
      <value>
        <workType>Repairing</workType>
      </value>
    </match>
  </Operation>

</Patch>
